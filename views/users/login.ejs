<% layout('/layouts/boilerplate') -%>

<div class="expense-form-container">
    <h2>Login</h2>
    <form id="loginForm" action="/user/login" method="POST" class="needs-validation" novalidate>
        
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" class="form-control" id="email" name="email" required>
            <div class="invalid-feedback">Please enter a valid email.</div>
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" class="form-control" id="password" name="password" required>
            <div class="invalid-feedback">Please enter your password.</div>
        </div>

        <button type="submit" class="btn btn-primary">Login</button>
    </form>
</div>

<script>
    // JavaScript for preventing submission on invalid form
    (function () {
        'use strict';
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            if (!this.checkValidity()) {
                event.preventDefault();  // Stop form submission
                event.stopPropagation(); // Stop event bubbling
            }
            this.classList.add('was-validated'); // Show validation styling
        }, false);
    })();
</script>
